graph = {
    "A": ["B", "C"],  # A links to B and C
    "B": ["C"],       # B links to C
    "C": ["A"],       # C links to A
    "D": [],          # Dangling node (no outlinks)
    "E": []           # Dangling node (no outlinks)
}

damping_factor = 0.85
max_iterations = 5
num_nodes = len(graph)
initial_rank = 1 / num_nodes
ranks = {node: initial_rank for node in graph}

print("Initial Ranks:", ranks)
print("\n--- PageRank Iterations ---\n")

for itr in range(1, max_iterations + 1):
    new_ranks = {node: (1 - damping_factor) / num_nodes for node in graph}
    dangling_sum = sum(ranks[node] for node in graph if not graph[node])
    for node, outlinks in graph.items():
        if outlinks:
            share = ranks[node] / len(outlinks)
            for out in outlinks:
                new_ranks[out] += damping_factor * share

    for node in new_ranks:
        new_ranks[node] += damping_factor * (dangling_sum / num_nodes)

    print(f"Iteration {itr}: ", {k: round(v, 6) for k, v in new_ranks.items()})
    ranks = new_ranks

print("\n--- Final PageRank After 5 Iterations ---")
for node, rank in sorted(ranks.items(), key=lambda x: x[1], reverse=True):
    print(f"{node} : {rank:.6f}")